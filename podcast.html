<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Good Pods ðŸŽ§</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
</head>

<body>
    <h1>Podcast Recommendations ðŸŽ§</h1>
    <p>For:<p>
    <select id="podcast-dropdown" name="podcast">
    </select>
    <div id="recommendations">
    </div>

    <script type="text/javascript">
        $(document).ready(function() {
            let dropdown = $('#podcast-dropdown');
            dropdown.empty();
            dropdown.append('<option selected="true" disabled>Choose a Podcast</option>');
            dropdown.prop('selectedIndex', 0);

            $.getJSON("stuff.json", function(json) {
                console.log(json); // this will show the info it in firebug console

                $.each(json, function (key, entry) {
                    dropdown.append($('<option></option>').attr('value', key).text(entry.name));
                })

                $('#podcast-dropdown').on('change', function() { // selected a new pod
                    let recommendations = $('#recommendations');
                    $.each(json[this.value].most_similar, function (key, value) {
                        recommendations.append($('<p></p>').text(value));
                    })
                })
            });
        });
    </script>
</body>

</html>
